<?xml version="1.0" encoding="UTF-8"?>

<!--
  Finite State Machine to implement
    * FarCry Assault
    * BF3 Rush
    * CoD Search & Destroy
  type of games

  https://github.com/Ankzz/easyfsm
-->

<FSM>
    <STATE id="PROLOG" type="ID">
        <MESSAGE id="START" nextState="GREEN"/>
    </STATE>
    <STATE id="GREEN">
        <MESSAGE id="BTN01" nextState="RED"/>
        <MESSAGE id="GAME_OVER" nextState="DEFENDED"/>
        <MESSAGE id="RESET" nextState="PROLOG"/>
    </STATE>
    <STATE id="RED">
        <MESSAGE id="BTN01" nextState="GREEN"/>
        <MESSAGE id="OVERTIME" nextState="RED_OVERTIME"/>
        <MESSAGE id="GAME_OVER" nextState="CAPTURED"/>
        <MESSAGE id="RESET" nextState="PROLOG"/>
    </STATE>
    <STATE id="RED_OVERTIME">
        <MESSAGE id="BTN01" nextState="DEFENDED_OVERTIME"/>
        <MESSAGE id="GAME_OVER" nextState="CAPTURED_OVERTIME"/>
        <MESSAGE id="RESET" nextState="PROLOG"/>
    </STATE>
    <!-- ENDING STATES -->
    <STATE id="DEFENDED">
        <MESSAGE id="START" nextState="GREEN"/>
        <MESSAGE id="RESET" nextState="PROLOG"/>
    </STATE>
    <STATE id="DEFENDED_OVERTIME">
        <MESSAGE id="START" nextState="GREEN"/>
        <MESSAGE id="RESET" nextState="PROLOG"/>
    </STATE>
    <STATE id="CAPTURED">
        <MESSAGE id="START" nextState="GREEN"/>
        <MESSAGE id="RESET" nextState="PROLOG"/>
    </STATE>
    <STATE id="CAPTURED_OVERTIME">
        <MESSAGE id="START" nextState="GREEN"/>
        <MESSAGE id="RESET" nextState="PROLOG"/>
    </STATE>
</FSM>

